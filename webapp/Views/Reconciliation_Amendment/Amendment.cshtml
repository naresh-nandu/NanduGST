@{
    ViewBag.Title = "WeP GST PANEL";
}

<!-- MAIN CONTENT -->
<form name="ReconciliationAmendmentForm" id="ReconciliationAmendmentForm" method="post" autocomplete="off">
    <div id="content">

        <!-- row -->
        <div class="row">

            <!-- col -->
            <div class="col-xs-12 col-sm-7 col-md-7 col-lg-6">
                <h1 class="page-title txt-color-blueDark">

                    <!-- PAGE HEADER -->
                    <i class="fa-fw fa fa-home"></i>
                    Amendments
                    <span>
                        >&nbsp;
                        Reconciliation
                    </span>
                </h1>
            </div>
            <!-- end col -->
            <!-- right side of the page with the sparkline graphs -->
            <!-- col -->
            <!-- end col -->

        </div>
        <!-- end row -->
        <!--
                The ID "widget-grid" will start to initialize all widgets below
                You do not need to use widgets if you dont want to. Simply remove
                the <section></section> and you can use wells or panels instead
                -->
        <!-- widget grid -->
        <section id="widget-grid" class="">

            <!-- row -->
            <article class="row">

                <div class="jarviswidget jarviswidget-color-greenDark" id="wid-id-0" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

                    <header>
                        <span class="widget-icon"><i class="fa fa-edit"></i></span>
                        <h2 style="font-weight:bold;">Settings</h2>
                    </header>
                    <div>

                        <!-- widget edit box -->
                        <div class="jarviswidget-editbox">
                            <!-- This area used as dropdown edit box -->
                        </div>

                        <div class="widget-body no-padding">

                            <div id="comment-form" class="smart-form">
                                <fieldset>
                                    <div class="col-sm-6 col-md-6 col-lg-6">
                                        <div id="accordion">
                                            <div>
                                                <h4>Reconciliation Setting</h4>
                                                <div class="form-group">

                                                    <div class="row">
                                                        @if (Session["f_year"] == "FinancialYear")
                                                        {
                                                            <label class="radio radio-inline">

                                                                <input type="radio" class="radiobox" name="reconsetting" id="reconsetting" value="FinancialYear" checked>
                                                                <span style="margin-left:0px">Invoice Date</span>

                                                            </label>
                                                            <label class="radio radio-inline" style="margin-left:auto">
                                                                <input type="radio" class="radiobox" name="reconsetting" id="reconsetting" value="FinancialPeriod">
                                                                <span style="margin-left:0px">Period</span>
                                                            </label>
                                                        }

                                                        else if (Session["f_year"] == "FinancialPeriod")
                                                        {
                                                            <label class="radio radio-inline">

                                                                <input type="radio" class="radiobox" name="reconsetting" id="reconsetting" value="FinancialYear">
                                                                <span style="margin-left:0px">Invoice Date</span>

                                                            </label>
                                                            <label class="radio radio-inline" style="margin-left:auto">
                                                                <input type="radio" class="radiobox" name="reconsetting" id="reconsetting" value="FinancialPeriod" checked>
                                                                <span style="margin-left:0px">Period</span>
                                                            </label>
                                                        }
                                                        else
                                                        {
                                                            <label class="radio radio-inline">

                                                                <input type="radio" class="radiobox" name="reconsetting" id="reconsetting" value="FinancialYear" checked>
                                                                <span style="margin-left:0px">Invoice Date</span>

                                                            </label>
                                                            <label class="radio radio-inline" style="margin-left:auto">
                                                                <input type="radio" class="radiobox" name="reconsetting" id="reconsetting" value="FinancialPeriod">
                                                                <span style="margin-left:0px">Period</span>
                                                            </label>
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>

                            </div>
                        </div>
                    </div>
                </div>
                <!-- NEW WIDGET START -->
                <!-- Widget ID (each widget will need unique ID)-->
                <div class="jarviswidget jarviswidget-color-teal" id="wid-id-0" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

                    <header>
                        <span class="widget-icon"><i class="fa fa-edit"></i></span>
                        <h2 style="font-weight:bold;"> Amendment Reconcilation </h2>
                    </header>

                    <!-- widget div-->
                    <div>

                        <!-- widget edit box -->
                        <div class="jarviswidget-editbox">
                            <!-- This area used as dropdown edit box -->

                        </div>
                        <!-- end widget edit box -->
                        <!-- widget content -->
                        <div class="widget-body no-padding">

                            <div id="comment-form" class="smart-form">

                                <fieldset>

                                    <div class="row">
                                        <section class="col col-3">
                                            <label class="input">GSTIN</label>
                                            <div class="col-xs-12 col-md-12 selectContainer">
                                                @Html.DropDownList("ddlGSTINNo", ViewBag.GSTINNoList as SelectList, "ALL", new { @class = "form-control" })
                                            </div>
                                        </section>
                                        <section class="col col-3" id="frm">
                                            <label class="input">From</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-calendar"></i>
                                                <input type="text" name="period" id="period" value="@ViewBag.Period" placeholder="From" class="datepicker" data-dateformat='mmyy'>
                                            </label>
                                        </section>
                                        <section class="col col-3" id="to">
                                            <label class="input">To</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-calendar"></i>
                                                <input type="text" name="toperiod" id="toperiod" value="@ViewBag.ToPeriod" placeholder="To" class="datepicker" data-dateformat='mmyy'>
                                            </label>
                                        </section>
                                        <section class="col col-3" id="frmdt">
                                            <label class="input">From Invoice Date</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-calendar"></i>
                                                <input type="text" name="fromdate" id="fromdate" value="@ViewBag.FromDate" placeholder="From Date" class="datepicker" data-dateformat='dd-mm-yy' readonly>
                                            </label>
                                        </section>

                                        <section class="col col-3" id="todt">
                                            <label class="input">To Invoice Date</label>
                                            <label class="input">
                                                <i class="icon-append fa fa-calendar"></i>
                                                <input type="text" name="todate" id="todate" value="@ViewBag.ToDate" placeholder="To Date" class="datepicker" data-dateformat='dd-mm-yy' readonly>
                                            </label>
                                        </section>

                                        @*<section class="col col-3" id="year">
                                    <label class="col-form-label">Financial Year</label>
                                    <label class="input">
                                        @Html.DropDownList("years", ViewBag.yearlist as SelectList, "Select", new { @class = "form-control", id = "years" })
                                    </label>
                                </section>*@
                                        <section class="col col-3" id="sname">
                                            <label class="input">Supplier Name</label>
                                            <div class="col-xs-12 col-md-12 selectContainer">
                                                @Html.DropDownList("ddlSupplierName", ViewBag.SupplierName as SelectList, "ALL", new { @class = "form-control" })
                                            </div>
                                        </section>

                                        <section class="col col-3" id="sgstin">
                                            <label class="input">Supplier GSTIN</label>
                                            <div class="col-xs-12 col-md-12 selectContainer">
                                                @Html.DropDownList("ddlSupGSTIN", ViewBag.CTINNoList as SelectList, "ALL", new { @class = "form-control" })
                                            </div>
                                        </section>

                                        <section class="col col-3">
                                            <label class="input">Action</label>
                                            <div class="col-xs-9 col-lg-12 selectContainer">
                                                @Html.DropDownList("ddlActionType", ViewBag.ActionList as SelectList, "Select", new { @class = "form-control" })
                                            </div>
                                        </section>

                                        <section class="col col-3">
                                            <label class="input">Filter Type</label>
                                            <div class="col-xs-9 col-lg-12 selectContainer">
                                                @Html.DropDownList("strFilterType", ViewBag.FilterType as SelectList, "Select", new { @class = "form-control", autopostback = "true", @id = "strFilterType" })
                                            </div>
                                        </section>
                                        <section class="col col-3">
                                            <label class="input"></label>
                                            <div class="form-group">
                                                <input type="hidden" name="InvIds" id="InvIds" />
                                                <input type="hidden" name="InvIds2A" id="InvIds2A" />
                                                <input type="hidden" name="RefIds" id="RefIds" />
                                            </div>
                                        </section>
                                    </div>

                                </fieldset>

                                <footer>
                                    <button type="button" id="ViewDetails" name="ViewDetails" value="View Details" class="btn btn-primary pull-left" style="border-radius:13px; font-weight:600">
                                        View Details
                                    </button>

                                    <button type="button" id="Back" name="Back" value="Back" class="btn btn-primary pull-right" style="border-radius:13px; font-weight:600">
                                        Back
                                    </button>
                                </footer>
                            </div>
                        </div>
                        <!-- end widget content -->
                    </div>
                    <!-- end widget div -->
                </div>

                <div class="jarviswidget jarviswidget-color-blueLight" id="newgstr2_2a" name="newgstr2_2a" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

                    <header>
                        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
                        <h2 style="font-weight:bold;">Matched Invoices </h2>
                    </header>

                    <div class="container-fuild" style="background-color:white; overflow:scroll;">
                        <table id="TBL_INVOICEDATACORRECTION" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                            <thead>
                                <tr>
                                    <td colspan="1" class="upload" style="text-align:center"><b>#</b></td>
                                    <td colspan="9" class="upload" style="text-align:center"><b>GSTR2A Data</b></td>
                                    <td colspan="10" class="upload" style="text-align:center"><b>GSTR2A Amendment Data</b></td>
                                </tr>
                                <tr id="TD_B2B">
                                    <td align="center"><input type="checkbox" id="chkSelectAll" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Original Invoice No</th>
                                    <th>Original Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>

                                </tr>
                                <tr id="TD_CDNR">
                                    <td align="center"><input type="checkbox" id="chkSelectAll" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Original Note Number</th>
                                    <th>Original Note Date</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                </tr>
                            </thead>
                        </table>

                    </div>
                    <br />
                    <br />
                    <footer>
                        <button type="button" id="Accept" name="Accept" value="Accept" class="btn btn-primary pull-right" style="border-radius:13px;font-weight:600">
                            Accept
                        </button>

                        <button type="submit" id="Export" name="Export" value="Export" class="btn btn-primary pull-right" style="border-radius:13px; font-weight:600">
                            Export
                        </button>
                    </footer>
                    <!-- end widget div -->
                </div>

                <div class="jarviswidget jarviswidget-color-blueLight" id="newgstr2_2a_duplicate" name="newgstr2_2a_duplicate" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

                    <header>
                        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
                        <h2 style="font-weight:bold;"> Matched Invoices for gstr2 amendments</h2>
                    </header>

                    <div class="container-fuild" style="background-color:white; overflow:scroll;">
                        <table id="TBL_INVOICEDATACORRECTION_SOME" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                            <thead>
                                <tr>
                                    <td colspan="1" class="upload" style="text-align:center"><b>#</b></td>
                                    <td colspan="9" class="upload" style="text-align:center"><b>GSTR2 Data</b></td>
                                    <td colspan="10" class="upload" style="text-align:center"><b>GSTR2A Amendment Data</b></td>
                                </tr>
                                <tr id="TD_B2B_FP">
                                    <td align="center"><input type="checkbox" id="chkSelectAll_inum" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Original Invoice No</th>
                                    <th>Original Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>

                                </tr>
                                <tr id="TD_CDNR_FP">
                                    <td align="center"><input type="checkbox" id="chkSelectAll_inum" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Original Note Number</th>
                                    <th>Original Note Date</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                </tr>
                            </thead>
                        </table>

                    </div>
                    <br />
                    <br />
                    <footer>
                        <button type="button" id="Accept_inum" name="Accept_inum" value="Accept" class="btn btn-primary pull-right" style="border-radius:13px;font-weight:600">
                            Accept from GSTR2A to GSTR2
                        </button>

                        <button type="submit" id="Exportsome" name="Exportsome" value="Export" class="btn btn-primary pull-right" style="border-radius:13px; font-weight:600">
                            Export
                        </button>
                    </footer>

                    <!-- end widget div -->
                </div>

                <div class="jarviswidget jarviswidget-color-blueLight" id="amend_inum" name="amend_inum" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

                    <header>
                        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
                        <h2 style="font-weight:bold;"> Matched Invoices for gstr2 amendments Invoice Number</h2>
                    </header>

                    <div class="container-fuild" style="background-color:white; overflow:scroll;">
                        <table id="TBL_AMEND_INUM" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                            <thead>
                                <tr>
                                    <td colspan="1" class="upload" style="text-align:center"><b>#</b></td>
                                    <td colspan="9" class="upload" style="text-align:center"><b>GSTR2 Data</b></td>
                                    <td colspan="10" class="upload" style="text-align:center"><b>GSTR2A Amendment Data</b></td>
                                </tr>
                                <tr id="TD_B2B_INUM">
                                    <td align="center"><input type="checkbox" id="chkSelectAll_amend_inum" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>
                                    <th>Supplier GSTIN</th>
                                    @*<th>Invoice No</th>
                                    <th>Invoice Date</th>*@
                                    <th>Original Invoice No</th>
                                    <th>Original Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>

                                </tr>
                                <tr id="TD_CDNR_INUM">
                                    <td align="center"><input type="checkbox" id="chkSelectAll_amend_inum" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Original Note Number</th>
                                    <th>Original Note Date</th>
                                    @*<th>Invoice No</th>
                                    <th>Invoice Date</th>*@
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                </tr>
                            </thead>
                        </table>

                    </div>
                    <br />
                    <br />
                    <footer>
                        <button type="button" id="Accept_amend_inum" name="Accept_amend_inum" value="Accept" class="btn btn-primary pull-right" style="border-radius:13px;font-weight:600">
                            Accept from GSTR2A to GSTR2
                        </button>

                        <button type="submit" id="Exportinum" name="Exportinum" value="Export" class="btn btn-primary pull-right" style="border-radius:13px; font-weight:600">
                            Export
                        </button>
                    </footer>

                    <!-- end widget div -->
                </div>

                <div class="jarviswidget jarviswidget-color-blueLight" id="amend_inum_many" name="amend_inum_many" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

                    <header>
                        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
                        <h2 style="font-weight:bold;">Many Matched Invoices for gstr2 amendments Invoice Number</h2>
                    </header>

                    <div class="container-fuild" style="background-color:white; overflow:scroll;">
                        <table id="TBL_AMEND_INUM_MANY" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                            <thead>
                                <tr>
                                    <td colspan="1" class="upload" style="text-align:center"><b>#</b></td>
                                    <td colspan="9" class="upload" style="text-align:center"><b>GSTR2 Data</b></td>
                                    <td colspan="10" class="upload" style="text-align:center"><b>GSTR2A Amendment Data</b></td>
                                </tr>
                                <tr id="TD_B2B_INUM_MANY">
                                    <td align="center"><input type="radio" id="chkSelectAll_amend_inum_many" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>
                                    <th>Supplier GSTIN</th>
                                    @*<th>Invoice No</th>
                                    <th>Invoice Date</th>*@
                                    <th>Original Invoice No</th>
                                    <th>Original Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>

                                </tr>
                                <tr id="TD_CDNR_INUM_MANY">
                                    <td align="center"><input type="radio" id="chkSelectAll_amend_inum_many" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Original Note Number</th>
                                    <th>Original Note Date</th>
                                    @*<th>Invoice No</th>
                                    <th>Invoice Date</th>*@
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                </tr>
                            </thead>
                        </table>

                    </div>
                    <br />
                    <br />
                    <footer>
                        <button type="button" id="Accept_amend_inum_many" name="Accept_amend_inum_many" value="Accept" class="btn btn-primary pull-right" style="border-radius:13px;font-weight:600">
                            Accept from GSTR2A to GSTR2
                        </button>

                        <button type="submit" id="Exportinum_many" name="Exportinum_many" value="Export_many" class="btn btn-primary pull-right" style="border-radius:13px; font-weight:600">
                            Export
                        </button>
                    </footer>

                    <!-- end widget div -->
                </div>

                <div class="jarviswidget jarviswidget-color-blueLight" id="amend_idt" name="amend_idt" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

                    <header>
                        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
                        <h2 style="font-weight:bold;"> Matched Invoices for gstr2 amendments Invoice Date</h2>
                    </header>

                    <div class="container-fuild" style="background-color:white; overflow:scroll;">
                        <table id="TBL_AMEND_IDT" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                            <thead>
                                <tr>
                                    <td colspan="1" class="upload" style="text-align:center"><b>#</b></td>
                                    <td colspan="9" class="upload" style="text-align:center"><b>GSTR2 Data</b></td>
                                    <td colspan="10" class="upload" style="text-align:center"><b>GSTR2A Amendment Data</b></td>
                                </tr>
                                <tr id="TD_B2B_IDT">
                                    <td align="center"><input type="checkbox" id="chkSelectAll_amend_idt" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>
                                    <th>Supplier GSTIN</th>
                                    @*<th>Invoice No</th>
                                    <th>Invoice Date</th>*@
                                    <th>Original Invoice No</th>
                                    <th>Original Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>

                                </tr>
                                <tr id="TD_CDNR_IDT">
                                    <td align="center"><input type="checkbox" id="chkSelectAll_amend_idt" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Original Note Number</th>
                                    <th>Original Note Date</th>
                                    @*<th>Invoice No</th>
                                    <th>Invoice Date</th>*@
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                </tr>
                            </thead>
                        </table>

                    </div>
                    <br />
                    <br />
                    <footer>
                        <button type="button" id="Accept_amend_idt" name="Accept_amend_idt" value="Accept" class="btn btn-primary pull-right" style="border-radius:13px;font-weight:600">
                            Accept from GSTR2A to GSTR2
                        </button>

                        <button type="submit" id="Exportidt" name="Exportidt" value="Export" class="btn btn-primary pull-right" style="border-radius:13px; font-weight:600">
                            Export
                        </button>
                    </footer>

                    <!-- end widget div -->
                </div>

                <div class="jarviswidget jarviswidget-color-blueLight" id="amend_idt_many" name="amend_idt_many" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

                    <header>
                        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>
                        <h2 style="font-weight:bold;">Many Matched Invoices for gstr2 amendments Invoice Date</h2>
                    </header>

                    <div class="container-fuild" style="background-color:white; overflow:scroll;">
                        <table id="TBL_AMEND_IDT_MANY" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                            <thead>
                                <tr>
                                    <td colspan="1" class="upload" style="text-align:center"><b>#</b></td>
                                    <td colspan="9" class="upload" style="text-align:center"><b>GSTR2 Data</b></td>
                                    <td colspan="10" class="upload" style="text-align:center"><b>GSTR2A Amendment Data</b></td>
                                </tr>
                                <tr id="TD_B2B_IDT_MANY">
                                    <td align="center"><input type="radio" id="chkSelectAll_amend_idt_many" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>
                                    <th>Supplier GSTIN</th>
                                    @*<th>Invoice No</th>
                                    <th>Invoice Date</th>*@
                                    <th>Original Invoice No</th>
                                    <th>Original Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>POS</th>
                                    <th>Invoice Type</th>

                                </tr>
                                <tr id="TD_CDNR_IDT_MANY">
                                    <td align="center"><input type="radio" id="chkSelectAll_amend_idt_many" /></td>
                                    <th>GSTIN</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Invoice No</th>
                                    <th>Invoice Date</th>
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                    <th>Supplier GSTIN</th>
                                    <th>Note Number</th>
                                    <th>Note Date</th>
                                    <th>Original Note Number</th>
                                    <th>Original Note Date</th>
                                    @*<th>Invoice No</th>
                                    <th>Invoice Date</th>*@
                                    <th>Invoice Value</th>
                                    <th>Taxable Value</th>
                                    <th>Total Tax Amount</th>
                                </tr>
                            </thead>
                        </table>

                    </div>
                    <br />
                    <br />
                    <footer>
                        <button type="button" id="Accept_amend_idt_many" name="Accept_amend_idt_many" value="Accept" class="btn btn-primary pull-right" style="border-radius:13px;font-weight:600">
                            Accept from GSTR2A to GSTR2
                        </button>

                        <button type="submit" id="Exportidt_many" name="Exportidt_many" value="Export_many" class="btn btn-primary pull-right" style="border-radius:13px; font-weight:600">
                            Export
                        </button>
                    </footer>

                    <!-- end widget div -->
                </div>


            </article>
        </section>
        <!-- end widget grid -->
    </div>
</form>

<script type="text/javascript" language="javascript">

    $(document).ready(function () {

        var filter = $("#strFilterType").val();

        $("#TBL_INVOICEDATACORRECTION").hide();
        $("#TBL_INVOICEDATACORRECTION_SOME").hide();

        $("#TBL_AMEND_INUM").hide();
        $("#TBL_AMEND_IDT").hide();

        $("#TBL_AMEND_INUM_MANY").hide();
        $("#TBL_AMEND_IDT_MANY").hide();

        $("#TD_B2B").hide();
        $("#TD_CDNR").hide();

        $("#TD_B2B_FP").hide();
        $("#TD_CDNR_FP").hide();

        $("#TD_B2B_INUM").hide();
        $("#TD_CDNR_INUM").hide();

        $("#TD_B2B_INUM_MANY").hide();
        $("#TD_CDNR_INUM_MANY").hide();

        $("#TD_B2B_IDT").hide();
        $("#TD_CDNR_IDT").hide();

        $("#TD_B2B_IDT_MANY").hide();
        $("#TD_CDNR_IDT_MANY").hide();

        $("#newgstr2_2a").hide();
        $("#newgstr2_2a_duplicate").hide();

        $("#amend_inum").hide();
        $("#amend_idt").hide();

        $("#amend_inum_many").hide();
        $("#amend_idt_many").hide();

        


        $.urlParam = function (name) {
            var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
            if (results == null) {
                return null;
            }
            else {
                return decodeURI(results[1]) || 0;
            }
        }
        var URLRedirectName = $.urlParam('Page');

        if (URLRedirectName == "ViewDetails") {

            $("#divLoading").show();
            ProcessingData();
        }

        $("#chkSelectAll").click(function () {
            debugger;
            var cols = $("#TBL_INVOICEDATACORRECTION").DataTable().column(0).nodes(),
                state = this.checked;
            for (var i = 0; i < cols.length; i += 1) {
                cols[i].querySelector("input[type='checkbox']").checked = state;
            }
        });

        $('.chkSelectAll').click(function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll").prop("checked", false);
            }
        });

        $("#TBL_INVOICEDATACORRECTION").on("click", ".chkSelectAll", function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll").prop("checked", false);
            }
        });

        $("#chkSelectAll_inum").click(function () {
            debugger;
            var cols = $("#TBL_INVOICEDATACORRECTION_SOME").DataTable().column(0).nodes(),
                state = this.checked;
            for (var i = 0; i < cols.length; i += 1) {
                cols[i].querySelector("input[type='checkbox']").checked = state;
            }
        });

        $('.chkSelectAll_inum').click(function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll_inum").prop("checked", false);
            }
        });

        $("#TBL_INVOICEDATACORRECTION_SOME").on("click", ".chkSelectAll_inum", function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll_inum").prop("checked", false);
            }
        });

        $("#chkSelectAll_amend_inum").click(function () {
            debugger;
            var cols = $("#TBL_AMEND_INUM").DataTable().column(0).nodes(),
                state = this.checked;
            for (var i = 0; i < cols.length; i += 1) {
                cols[i].querySelector("input[type='checkbox']").checked = state;
            }
        });

        $('.chkSelectAll_amend_inum').click(function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll_amend_inum").prop("checked", false);
            }
        });

        $("#TBL_AMEND_INUM").on("click", ".chkSelectAll_amend_inum", function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll_amend_inum").prop("checked", false);
            }
        });

        $("#chkSelectAll_amend_inum_many").click(function () {
            debugger;
            var cols = $("#TBL_AMEND_INUM_MANY").DataTable().column(0).nodes(),
                state = this.checked;
            for (var i = 0; i < cols.length; i += 1) {
                cols[i].querySelector("input[type='checkbox']").checked = state;
            }
        });

        $('.chkSelectAll_amend_inum_many').click(function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll_amend_inum_many").prop("checked", false);
            }
        });

        $("#TBL_AMEND_INUM_MANY").on("click", ".chkSelectAll_amend_inum_many", function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll_amend_inum_many").prop("checked", false);
            }
        });


        $("#chkSelectAll_amend_idt").click(function () {
            debugger;
            var cols = $("#TBL_AMEND_IDT").DataTable().column(0).nodes(),
                state = this.checked;
            for (var i = 0; i < cols.length; i += 1) {
                cols[i].querySelector("input[type='checkbox']").checked = state;
            }
        });

        $('.chkSelectAll_amend_idt').click(function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll_amend_idt").prop("checked", false);
            }
        });

        $("#TBL_AMEND_IDT").on("click", ".chkSelectAll_amend_idt", function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll_amend_idt").prop("checked", false);
            }
        });

        $("#chkSelectAll_amend_idt_many").click(function () {
            debugger;
            var cols = $("#TBL_AMEND_IDT_MANY").DataTable().column(0).nodes(),
                state = this.checked;
            for (var i = 0; i < cols.length; i += 1) {
                cols[i].querySelector("input[type='checkbox']").checked = state;
            }
        });

        $('.chkSelectAll_amend_idt_many').click(function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll_amend_idt_many").prop("checked", false);
            }
        });

        $("#TBL_AMEND_IDT_MANY").on("click", ".chkSelectAll_amend_idt_many", function () {
            debugger;
            var status = this.checked;
            if (status == false) {
                $("#chkSelectAll_amend_idt_many").prop("checked", false);
            }
        });


        $("#ViewDetails").click(function () {
            debugger;
            $("#divLoading").show();
            ProcessingData();

        });

        $("#ddlSupplierName").change(function () {
            LoadingData();
            window.location.reload(true);
        });

        $("#Accept").click(function () {
            debugger;
            $("#divLoading").show();
            var selectIds = '|';
            var cols = $("#TBL_INVOICEDATACORRECTION").DataTable().column(0).nodes();
            for (var i = 0; i < cols.length; i += 1) {
                if (cols[i].querySelector("input[type='checkbox']").checked == true) {
                    var chkVal = cols[i].querySelector("input[type='checkbox']").value;
                    selectIds = selectIds + chkVal + '|'
                }
            }

            $("#InvIds").val();
            $("#InvIds").val(selectIds);
            ProcessingData("Accept");
        });

        $("#Accept_inum").click(function () {
            debugger;
            $("#divLoading").show();
            var selectIds = '|';
            var cols = $("#TBL_INVOICEDATACORRECTION_SOME").DataTable().column(0).nodes();
            for (var i = 0; i < cols.length; i += 1) {
                if (cols[i].querySelector("input[type='checkbox']").checked == true) {
                    var chkVal = cols[i].querySelector("input[type='checkbox']").value;
                    selectIds = selectIds + chkVal + '|'
                }
            }

            $("#InvIds").val();
            $("#InvIds").val(selectIds);
            ProcessingData("Accept_inum");
        });

        $("#Accept_amend_inum").click(function () {
            debugger;
            $("#divLoading").show();
            var selectIds = '|';
            var cols = $("#TBL_AMEND_INUM").DataTable().column(0).nodes();
            for (var i = 0; i < cols.length; i += 1) {
                if (cols[i].querySelector("input[type='checkbox']").checked == true) {
                    var chkVal = cols[i].querySelector("input[type='checkbox']").value;
                    selectIds = selectIds + chkVal + '|'
                }
            }

            $("#InvIds").val();
            $("#InvIds").val(selectIds);
            ProcessingData("Accept_amend_inum");
        });

        $("#Accept_amend_inum_many").click(function () {
            debugger;
            $("#divLoading").show();
            var selectIds = '|';
            var cols = $("#TBL_AMEND_INUM_MANY").DataTable().column(0).nodes();
            for (var i = 0; i < cols.length; i += 1) {
                if (cols[i].querySelector("input[type='radio']").checked == true) {
                    var chkVal = cols[i].querySelector("input[type='radio']").value;
                    selectIds = selectIds + chkVal + '|'
                }
            }

            $("#InvIds").val();
            $("#InvIds").val(selectIds);
            ProcessingData("Accept_amend_inum_many");
        });

        $("#Accept_amend_idt").click(function () {
            debugger;
            $("#divLoading").show();
            var selectIds = '|';
            var cols = $("#TBL_AMEND_IDT").DataTable().column(0).nodes();
            for (var i = 0; i < cols.length; i += 1) {
                if (cols[i].querySelector("input[type='checkbox']").checked == true) {
                    var chkVal = cols[i].querySelector("input[type='checkbox']").value;
                    selectIds = selectIds + chkVal + '|'
                }
            }

            $("#InvIds").val();
            $("#InvIds").val(selectIds);
            ProcessingData("Accept_amend_idt");
        });

        $("#Accept_amend_idt_many").click(function () {
            debugger;
            $("#divLoading").show();
            var selectIds = '|';
            var cols = $("#TBL_AMEND_IDT_MANY").DataTable().column(0).nodes();
            for (var i = 0; i < cols.length; i += 1) {
                if (cols[i].querySelector("input[type='radio']").checked == true) {
                    var chkVal = cols[i].querySelector("input[type='radio']").value;
                    selectIds = selectIds + chkVal + '|'
                }
            }

            $("#InvIds").val();
            $("#InvIds").val(selectIds);
            ProcessingData("Accept_amend_idt_many");
        });


        $("#Back").click(function () {
            $("#divLoading").show();
            document.location.href = '/GSTR2/Reconcilation?Page=ViewDetails';
        });
    });

    function ProcessingData(ButtonType) {
        debugger;
        var frmdata = new FormData();
        var radio = $("input[type=radio][name='reconsetting']:checked").val();
        var filter = $("#strFilterType").val();

        if (ButtonType != null) {

            frmdata.append("InvIds", $("#InvIds").val());
            frmdata.append("InvIds2A", $("#InvIds2A").val());
            frmdata.append("RefIds", $("#RefIds").val());

            if (ButtonType == "Accept") {

                frmdata.append("Accept", $("#Accept").val());
            }
            if (ButtonType == "Accept_inum") {

                frmdata.append("Accept", $("#Accept_inum").val());
            }

            if (ButtonType == "Accept_amend_inum") {

                frmdata.append("Accept", $("#Accept_amend_inum").val());
            }

            if (ButtonType == "Accept_amend_inum_many") {

                frmdata.append("Accept", $("#Accept_amend_inum_may").val());
            }

            if (ButtonType == "Accept_amend_idt") {

                frmdata.append("Accept", $("#Accept_amend_idt").val());
            }

            if (ButtonType == "Accept_amend_idt_many") {

                frmdata.append("Accept", $("#Accept_amend_idt_many").val());
            }
        }

        if (filter == "2") {

            if (radio == "FinancialPeriod") {

                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", radio);
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                frmdata.append("ddlActionType", $("#ddlActionType").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }
            else if (radio == "FinancialYear") {

                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                // frmdata.append("years", $("#years").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", radio);
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("ddlActionType", $("#ddlActionType").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }

            else {
                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                //frmdata.append("years", $("#years").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", $("#reconsetting").val());
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }
            var action = $("#ddlActionType").val();
            if (action == "B2B") {

                $("#TD_B2B").hide();
                $("#TD_CDNR").hide();
                $("#TD_B2B_FP").show();
                $("#TD_CDNR_FP").hide();
                $("#TD_B2B_INUM").hide();
                $("#TD_CDNR_INUM").hide();
                $("#TD_B2B_IDT").hide();
                $("#TD_CDNR_IDT").hide();
                $("#TD_B2B_INUM_MANY").hide();
                $("#TD_CDNR_INUM_MANY").hide();
                $("#TD_B2B_IDT_MANY").hide();
                $("#TD_CDNR_IDT_MANY").hide();
                

            }
            if (action == "CDNR") {
                $("#TD_B2B").hide();
                $("#TD_CDNR").hide();
                $("#TD_B2B_FP").hide();
                $("#TD_CDNR_FP").hide();
                $("#TD_B2B_INUM").hide();
                $("#TD_CDNR_INUM").show();
                $("#TD_B2B_IDT").hide();
                $("#TD_CDNR_IDT").hide();
                $("#TD_B2B_INUM_MANY").hide();
                $("#TD_CDNR_INUM_MANY").hide();
                $("#TD_B2B_IDT_MANY").hide();
                $("#TD_CDNR_IDT_MANY").hide();
            }
            $.ajax
                ({
                    url: '/Reconciliation_Amendment/Amendment',
                    type: "POST",
                    contentType: false,
                    data: frmdata,
                    processData: false,
                    success: function (resp) {
                        $("#divLoading").hide();
                        if (resp.success) {
                            if (ButtonType != null) {
                                swal({
                                    title: "",
                                    text: resp.SuccessMessage,
                                    type: "success",
                                    confirm: {
                                        text: "OK",
                                        value: true,
                                        visible: true,
                                        className: "",
                                        closeModal: true,
                                    },
                                    confirmButtonColor: "#DD6B55",
                                    confirmButtonText: "OK",
                                    closeOnConfirm: true,
                                });
                            }

                            $("#newgstr2_2a").hide();
                            $("#newgstr2_2a_duplicate").show();
                            $("#amend_inum").hide();
                            $("#amend_idt").hide();
                            $("#amend_inum_many").hide();
                            $("#amend_idt_many").hide();

                            LoadGrid(resp.data);

                            $("#TBL_INVOICEDATACORRECTION").hide();
                            $("#TBL_INVOICEDATACORRECTION_SOME").show();
                            $("#TBL_AMEND_INUM").hide();
                            $("#TBL_AMEND_IDT").hide();
                            $("#TBL_AMEND_INUM_MANY").hide();
                            $("#TBL_AMEND_IDT_MANY").hide();

                        }
                        else {
                            swal({
                                title: "",
                                text: resp.ErrorMessage,
                                type: "error",
                                confirm: {
                                    text: "OK",
                                    value: true,
                                    visible: true,
                                    className: "",
                                    closeModal: true,
                                },
                                confirmButtonColor: "#DD6B55",
                                confirmButtonText: "OK",
                                closeOnConfirm: true,
                            });
                        }
                    },
                    error: function (xhr) {
                        $("#divLoading").hide();
                        alert(xhr.statusText);
                    }
                })
        }

        else if (filter == "3") {
            if (radio == "FinancialPeriod") {

                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", radio);
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                frmdata.append("ddlActionType", $("#ddlActionType").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }
            else if (radio == "FinancialYear") {

                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                // frmdata.append("years", $("#years").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", radio);
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("ddlActionType", $("#ddlActionType").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }

            else {
                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                //frmdata.append("years", $("#years").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", $("#reconsetting").val());
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }
            var action = $("#ddlActionType").val();
            if (action == "B2B") {

                $("#TD_B2B").hide();
                $("#TD_CDNR").hide();
                $("#TD_B2B_FP").hide();
                $("#TD_CDNR_FP").hide();
                $("#TD_B2B_INUM").show();
                $("#TD_CDNR_INUM").hide();
                $("#TD_B2B_IDT").hide();
                $("#TD_CDNR_IDT").hide();
                $("#TD_B2B_INUM_MANY").show();
                $("#TD_CDNR_INUM_MANY").hide();
                $("#TD_B2B_IDT_MANY").hide();
                $("#TD_CDNR_IDT_MANY").hide();

            }
            if (action == "CDNR") {
                $("#TD_B2B").hide();
                $("#TD_CDNR").hide();
                $("#TD_B2B_FP").hide();
                $("#TD_CDNR_FP").show();
                $("#TD_B2B_INUM").hide();
                $("#TD_CDNR_INUM").show();
                $("#TD_B2B_IDT").hide();
                $("#TD_CDNR_IDT").hide();
                $("#TD_B2B_INUM_MANY").hide();
                $("#TD_CDNR_INUM_MANY").show();
                $("#TD_B2B_IDT_MANY").hide();
                $("#TD_CDNR_IDT_MANY").hide();
            }
            $.ajax
                ({
                    url: '/Reconciliation_Amendment/Amendment',
                    type: "POST",
                    contentType: false,
                    data: frmdata,
                    processData: false,
                    success: function (resp) {
                        $("#divLoading").hide();
                        if (resp.success) {
                            if (ButtonType != null) {
                                swal({
                                    title: "",
                                    text: resp.SuccessMessage,
                                    type: "success",
                                    confirm: {
                                        text: "OK",
                                        value: true,
                                        visible: true,
                                        className: "",
                                        closeModal: true,
                                    },
                                    confirmButtonColor: "#DD6B55",
                                    confirmButtonText: "OK",
                                    closeOnConfirm: true,
                                });
                            }

                            $("#newgstr2_2a").hide();
                            $("#newgstr2_2a_duplicate").hide();
                            $("#amend_inum").show();
                            $("#amend_inum_many").show();
                            $("#amend_idt").hide();
                            $("#amend_idt_many").hide();

                            LoadGrid(resp.data);

                            $("#TBL_INVOICEDATACORRECTION").hide();
                            $("#TBL_INVOICEDATACORRECTION_SOME").hide();
                            $("#TBL_AMEND_INUM").show();
                            $("#TBL_AMEND_INUM_MANY").show();
                            $("#TBL_AMEND_IDT").hide();
                            $("#TBL_AMEND_IDT_MANY").hide();

                        }
                        else {
                            swal({
                                title: "",
                                text: resp.ErrorMessage,
                                type: "error",
                                confirm: {
                                    text: "OK",
                                    value: true,
                                    visible: true,
                                    className: "",
                                    closeModal: true,
                                },
                                confirmButtonColor: "#DD6B55",
                                confirmButtonText: "OK",
                                closeOnConfirm: true,
                            });
                        }
                    },
                    error: function (xhr) {
                        $("#divLoading").hide();
                        alert(xhr.statusText);
                    }
                })
        }

        else if (filter == "4") {
            debugger;
            if (radio == "FinancialPeriod") {

                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", radio);
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                frmdata.append("ddlActionType", $("#ddlActionType").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }
            else if (radio == "FinancialYear") {

                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                // frmdata.append("years", $("#years").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", radio);
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("ddlActionType", $("#ddlActionType").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }

            else {
                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                //frmdata.append("years", $("#years").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", $("#reconsetting").val());
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }
            var action = $("#ddlActionType").val();
            if (action == "B2B") {

                $("#TD_B2B").hide();
                $("#TD_CDNR").hide();
                $("#TD_B2B_FP").hide();
                $("#TD_CDNR_FP").hide();
                $("#TD_B2B_INUM").hide();
                $("#TD_CDNR_INUM").hide();
                $("#TD_B2B_IDT").show();
                $("#TD_CDNR_IDT").hide();
                $("#TD_B2B_INUM_MANY").hide();
                $("#TD_CDNR_INUM_MANY").hide();
                $("#TD_B2B_IDT_MANY").show();
                $("#TD_CDNR_IDT_MANY").hide();

            }
            if (action == "CDNR") {
                $("#TD_B2B").hide();
                $("#TD_CDNR").hide();
                $("#TD_B2B_FP").hide();
                $("#TD_CDNR_FP").hide();
                $("#TD_B2B_INUM").hide();
                $("#TD_CDNR_INUM").hide();
                $("#TD_B2B_IDT").hide();
                $("#TD_CDNR_IDT").show();
                $("#TD_B2B_INUM_MANY").hide();
                $("#TD_CDNR_INUM_MANY").hide();
                $("#TD_B2B_IDT_MANY").hide();
                $("#TD_CDNR_IDT_MANY").show();
            }
            $.ajax
                ({
                    url: '/Reconciliation_Amendment/Amendment',
                    type: "POST",
                    contentType: false,
                    data: frmdata,
                    processData: false,
                    success: function (resp) {
                        $("#divLoading").hide();
                        if (resp.success) {
                            if (ButtonType != null) {
                                swal({
                                    title: "",
                                    text: resp.SuccessMessage,
                                    type: "success",
                                    confirm: {
                                        text: "OK",
                                        value: true,
                                        visible: true,
                                        className: "",
                                        closeModal: true,
                                    },
                                    confirmButtonColor: "#DD6B55",
                                    confirmButtonText: "OK",
                                    closeOnConfirm: true,
                                });
                            }

                            $("#newgstr2_2a").hide();
                            $("#newgstr2_2a_duplicate").hide();
                            $("#amend_inum").hide();
                            $("#amend_inum_many").hide();
                            $("#amend_idt").show();
                            $("#amend_idt_many").show();

                            LoadGrid(resp.data);

                            $("#TBL_INVOICEDATACORRECTION").hide();
                            $("#TBL_INVOICEDATACORRECTION_SOME").hide();
                            $("#TBL_AMEND_INUM").hide();
                            $("#TBL_AMEND_IDT").show();
                            $("#TBL_AMEND_INUM_MANY").hide();
                            $("#TBL_AMEND_IDT_MANY").show();

                        }
                        else {
                            swal({
                                title: "",
                                text: resp.ErrorMessage,
                                type: "error",
                                confirm: {
                                    text: "OK",
                                    value: true,
                                    visible: true,
                                    className: "",
                                    closeModal: true,
                                },
                                confirmButtonColor: "#DD6B55",
                                confirmButtonText: "OK",
                                closeOnConfirm: true,
                            });
                        }
                    },
                    error: function (xhr) {
                        $("#divLoading").hide();
                        alert(xhr.statusText);
                    }
                })
        }


        else {


            if (radio == "FinancialPeriod") {

                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", radio);
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                frmdata.append("ddlActionType", $("#ddlActionType").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }
            else if (radio == "FinancialYear") {

                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                //frmdata.append("years", $("#years").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", radio);
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("ddlActionType", $("#ddlActionType").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }

            else {
                frmdata.append("ddlGSTINNo", $("#ddlGSTINNo").val());
                frmdata.append("fromdate", $("#fromdate").val());
                frmdata.append("todate", $("#todate").val());
                //frmdata.append("years", $("#years").val());
                frmdata.append("ddlSupplierName", $("#ddlSupplierName").val());
                frmdata.append("ddlSupGSTIN", $("#ddlSupGSTIN").val());
                frmdata.append("reconsetting", $("#reconsetting").val());
                frmdata.append("period", $("#period").val());
                frmdata.append("toperiod", $("#toperiod").val());
                frmdata.append("strFilterType", $("#strFilterType").val());
            }

            var action = $("#ddlActionType").val();

            if (action == "B2B") {

                $("#TD_B2B").show();
                $("#TD_CDNR").hide();
                $("#TD_B2B_FP").hide();
                $("#TD_CDNR_FP").hide();

                $("#TD_B2B_INUM").hide();
                $("#TD_CDNR_INUM").hide();
                $("#TD_B2B_IDT").hide();
                $("#TD_CDNR_IDT").hide();
                $("#TD_B2B_INUM_MANY").hide();
                $("#TD_CDNR_INUM_MANY").hide();
                $("#TD_B2B_IDT_MANY").hide();
                $("#TD_CDNR_IDT_MANY").hide();

            }
            if (action == "CDNR") {
                $("#TD_B2B").hide();
                $("#TD_CDNR").show();
                $("#TD_B2B_FP").hide();
                $("#TD_CDNR_FP").hide();

                $("#TD_B2B_INUM").hide();
                $("#TD_CDNR_INUM").hide();
                $("#TD_B2B_IDT").hide();
                $("#TD_CDNR_IDT").hide();
                $("#TD_B2B_INUM_MANY").hide();
                $("#TD_CDNR_INUM_MANY").hide();
                $("#TD_B2B_IDT_MANY").hide();
                $("#TD_CDNR_IDT_MANY").hide();
            }

            $.ajax
                ({
                    url: '/Reconciliation_Amendment/Amendment',
                    type: "POST",
                    contentType: false,
                    data: frmdata,
                    processData: false,
                    success: function (resp) {
                        console.log(resp);
                        $("#divLoading").hide();
                        if (resp.success) {

                            if (ButtonType != null) {
                                swal({
                                    title: "",
                                    text: resp.SuccessMessage,
                                    type: "success",
                                    confirm: {
                                        text: "OK",
                                        value: true,
                                        visible: true,
                                        className: "",
                                        closeModal: true,
                                    },
                                    confirmButtonColor: "#DD6B55",
                                    confirmButtonText: "OK",
                                    closeOnConfirm: true,
                                });
                            }

                            $("#Accept").show();
                            $("#newgstr2_2a").show();
                            $("#newgstr2_2a_duplicate").hide();
                            $("#amend_inum").hide();
                            $("#amend_idt").hide();
                            $("#amend_inum_many").hide();
                            $("#amend_idt_many").hide();

                            LoadGrid(resp.data);

                            $("#TBL_INVOICEDATACORRECTION").show();
                            $("#TBL_INVOICEDATACORRECTION_SOME").hide();
                            $("#TBL_AMEND_INUM").hide();
                            $("#TBL_AMEND_IDT").hide();
                            $("#TBL_AMEND_INUM_MANY").hide();
                            $("#TBL_AMEND_IDT_MANY").hide();

                        }
                        else {
                            swal({
                                title: "",
                                text: resp.ErrorMessage,
                                type: "error",
                                confirm: {
                                    text: "OK",
                                    value: true,
                                    visible: true,
                                    className: "",
                                    closeModal: true,
                                },
                                confirmButtonColor: "#DD6B55",
                                confirmButtonText: "OK",
                                closeOnConfirm: true,
                            });
                        }
                    },
                    error: function (xhr) {
                        $("#divLoading").hide();
                        alert(xhr.statusText);
                    }
                })
        }
    }

    function LoadGrid(ResData) {

        debugger;
        var actiontype = $("#ddlActionType").val();
        var filter = $("#strFilterType").val();

        if (actiontype == "B2B" && filter == "2") {

            $('#TBL_INVOICEDATACORRECTION_SOME').DataTable({
                destroy: true,
                "aaData": ResData.AmendmentGstr2_2a,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll_inum',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="checkbox" name="InvID" id="InvID" class="chkSelectAll_inum" value="' + data + '" />';
                        }
                    },

                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "pos2" },
                    { "mData": "inv_typ2" },
                    { "mData": "ctin2a" },
                    { "mData": "inum2a" },
                    { "mData": "idt2a" },
                    { "mData": "oinum2a" },
                    { "mData": "oidt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" },
                    { "mData": "pos2a" },
                    { "mData": "inv_typ2a" }
                ]
            });
        }
        else if (actiontype == "CDNR" && filter == "2") {

            $('#TBL_INVOICEDATACORRECTION_SOME').DataTable({
                destroy: true,
                "aaData": ResData.AmendmentGstr2_2a,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll_inum',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="checkbox" name="InvID" id="InvID" class="chkSelectAll_inum" value="' + data + '" />';
                        }
                    },
                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "nt_num2" },
                    { "mData": "nt_dt2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "ctin2a" },
                    { "mData": "nt_num2a" },
                    { "mData": "nt_dt2a" },
                    { "mData": "ont_num2a" },
                    { "mData": "ont_dt2a" },
                    { "mData": "inum2a" },
                    { "mData": "idt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" }
                ]
            });
        }

        else if (actiontype == "B2B" && filter == "1") {
            debugger;
            $('#TBL_INVOICEDATACORRECTION').DataTable({
                destroy: true,
                "aaData": ResData.AmendmentGstr2a,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="checkbox" name="InvID" id="InvID" class="chkSelectAll" value="' + data + '" />';
                        }
                    },

                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "pos2" },
                    { "mData": "inv_typ2" },
                    { "mData": "ctin2a" },
                    { "mData": "inum2a" },
                    { "mData": "idt2a" },
                    { "mData": "oinum2a" },
                    { "mData": "oidt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" },
                    { "mData": "pos2a" },
                    { "mData": "inv_typ2a" }
                ]
            });
        }
        else if (actiontype == "CDNR" && filter == "1") {
            $('#TBL_INVOICEDATACORRECTION').DataTable({
                destroy: true,
                "aaData": ResData.AmendmentGstr2a,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="checkbox" name="InvID" id="InvID" class="chkSelectAll" value="' + data + '" />';
                        }
                    },
                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "nt_num2" },
                    { "mData": "nt_dt2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "ctin2a" },
                    { "mData": "nt_num2a" },
                    { "mData": "nt_dt2a" },
                    { "mData": "ont_num2a" },
                    { "mData": "ont_dt2a" },
                    { "mData": "inum2a" },
                    { "mData": "idt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" }
                ]
            });
        }

        else if (actiontype == "B2B" && filter == "3") {
            $('#TBL_AMEND_INUM').DataTable({
                destroy: true,
                "aaData": ResData.Amendment_Inum,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll_amend_inum',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="checkbox" name="InvID" id="InvID" class="chkSelectAll_amend_inum" value="' + data + '" />';
                        }
                    },

                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "pos2" },
                    { "mData": "inv_typ2" },
                    { "mData": "ctin2a" },
                    //{ "mData": "inum2a" },
                    //{ "mData": "idt2a" },
                    { "mData": "oinum2a" },
                    { "mData": "oidt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" },
                    { "mData": "pos2a" },
                    { "mData": "inv_typ2a" }
                ]
            });

            $('#TBL_AMEND_INUM_MANY').DataTable({
                destroy: true,
                "aaData": ResData.Amendment_Inum_Many,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll_amend_inum_many',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="radio" name="InvID" id="InvID" class="chkSelectAll_amend_inum_many" value="' + data + '" />';
                        }
                    },

                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "pos2" },
                    { "mData": "inv_typ2" },
                    { "mData": "ctin2a" },
                    //{ "mData": "inum2a" },
                    //{ "mData": "idt2a" },
                    { "mData": "oinum2a" },
                    { "mData": "oidt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" },
                    { "mData": "pos2a" },
                    { "mData": "inv_typ2a" }
                ]
            });
        }
        else if (actiontype == "CDNR" && filter == "3") {
            $('#TBL_AMEND_INUM').DataTable({
                destroy: true,
                "aaData": ResData.Amendment_Inum,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll_amend_inum',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="checkbox" name="InvID" id="InvID" class="chkSelectAll_amend_inum" value="' + data + '" />';
                        }
                    },
                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "nt_num2" },
                    { "mData": "nt_dt2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "ctin2a" },
                    { "mData": "nt_num2a" },
                    { "mData": "nt_dt2a" },
                    { "mData": "ont_num2a" },
                    { "mData": "ont_dt2a" },
                    //{ "mData": "inum2a" },
                    //{ "mData": "idt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" }
                ]
            });

            $('#TBL_AMEND_INUM_MANY').DataTable({
                destroy: true,
                "aaData": ResData.Amendment_Inum_Many,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll_amend_inum_many',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="hidden" name="InvID" id="InvID" class="chkSelectAll_amend_inum_many" value="' + data + '" />';
                        }
                    },
                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "nt_num2" },
                    { "mData": "nt_dt2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "ctin2a" },
                    { "mData": "nt_num2a" },
                    { "mData": "nt_dt2a" },
                    { "mData": "ont_num2a" },
                    { "mData": "ont_dt2a" },
                    //{ "mData": "inum2a" },
                    //{ "mData": "idt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" }
                ]
            });
        }

        else if (actiontype == "B2B" && filter == "4") {
            $('#TBL_AMEND_IDT').DataTable({
                destroy: true,
                "aaData": ResData.Amendment_Idt,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll_amend_idt',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="checkbox" name="InvID" id="InvID" class="chkSelectAll_amend_idt" value="' + data + '" />';
                        }
                    },

                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "pos2" },
                    { "mData": "inv_typ2" },
                    { "mData": "ctin2a" },
                   // { "mData": "inum2a" },
                    //{ "mData": "idt2a" },
                    { "mData": "oinum2a" },
                    { "mData": "oidt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" },
                    { "mData": "pos2a" },
                    { "mData": "inv_typ2a" }
                ]
            });

            $('#TBL_AMEND_IDT_MANY').DataTable({
                destroy: true,
                "aaData": ResData.Amendment_Idt_Many,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll_amend_idt_many',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="radio" name="InvID" id="InvID" class="chkSelectAll_amend_idt_many" value="' + data + '" />';
                        }
                    },

                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "pos2" },
                    { "mData": "inv_typ2" },
                    { "mData": "ctin2a" },
                    //{ "mData": "inum2a" },
                    //{ "mData": "idt2a" },
                    { "mData": "oinum2a" },
                    { "mData": "oidt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" },
                    { "mData": "pos2a" },
                    { "mData": "inv_typ2a" }
                ]
            });
        }
        else if (actiontype == "CDNR" && filter == "4") {
            $('#TBL_AMEND_IDT').DataTable({
                destroy: true,
                "aaData": ResData.Amendment_Idt,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll_amend_idt',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="checkbox" name="InvID" id="InvID" class="chkSelectAll_amend_idt" value="' + data + '" />';
                        }
                    },
                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "nt_num2" },
                    { "mData": "nt_dt2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "ctin2a" },
                    { "mData": "nt_num2a" },
                    { "mData": "nt_dt2a" },
                    { "mData": "ont_num2a" },
                    { "mData": "ont_dt2a" },
                    //{ "mData": "inum2a" },
                    //{ "mData": "idt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" }
                ]
            });

            $('#TBL_AMEND_IDT_MANY').DataTable({
                destroy: true,
                "aaData": ResData.Amendment_Idt_Many,
                "aoColumns": [
                    {
                        "targets": 0,
                        "searchable": false,
                        "orderable": false,
                        "width": '2%',
                        "className": 'chkSelectAll_amend_idt_many',
                        "data": 'ctin_inum',
                        "render": function (data, type, full, meta) {
                            return '<input type="hidden" name="InvID" id="InvID" class="chkSelectAll_amend_idt_many" value="' + data + '" />';
                        }
                    },
                    { "mData": "gstin2" },
                    { "mData": "ctin2" },
                    { "mData": "nt_num2" },
                    { "mData": "nt_dt2" },
                    { "mData": "inum2" },
                    { "mData": "idt2" },
                    { "mData": "val2" },
                    { "mData": "txval2" },
                    { "mData": "TotaltaxAmount2" },
                    { "mData": "ctin2a" },
                    { "mData": "nt_num2a" },
                    { "mData": "nt_dt2a" },
                    { "mData": "ont_num2a" },
                    { "mData": "ont_dt2a" },
                    //{ "mData": "inum2a" },
                    //{ "mData": "idt2a" },
                    { "mData": "val2a" },
                    { "mData": "txval2a" },
                    { "mData": "TotaltaxAmount2a" }
                ]
            });
        }

        else {

        }
    }
</script>

<script type="text/javascript">
    // DO NOT REMOVE : GLOBAL FUNCTIONS!
    $(document).ready(function () {

        var $checkoutForm = $('#ReconciliationAmendmentForm').validate({
            // Rules for form validation
            rules: {

                ddlActionType: {
                    required: true
                },
            },

            // Messages for form validation
            messages: {

                ddlActionType: {
                    required: 'Please select Action'
                }

            },

            // Do not change code below
            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

    })
</script>

<script>
    $('input:radio').change(function (e) {

        var radio = $("input[type=radio][name='reconsetting']:checked").val();

        if (radio == "FinancialYear") {
            $("#frm").hide();
            $("#to").hide();
            $("#frmdt").show();
            $("#todt").show();
            $("#sname").show();
            $("$sgstin").show();
        }
        else if (radio == "FinancialPeriod") {
            $("#frmdt").hide();
            $("#todt").hide();
            $("#frm").show();
            $("#to").show();
        }
        else {
            $("#frm").hide();
            $("#to").hide();
            $("#frmdt").show();
            $("#todt").show();
        }
    })
</script>

<script>
    $(document).ready(function ()  {

        var radio = '@Session["f_year"]';

        if (radio == "FinancialYear") {
            $("#frm").hide();
            $("#to").hide();
            $("#frmdt").show();
            $("#todt").show();
            $("#sname").show();
            $("$sgstin").show();
        }
        else if (radio == "FinancialPeriod") {
            $("#frmdt").hide();
            $("#todt").hide();
            $("#frm").show();
            $("#to").show();
        }
        else {
            $("#frm").hide();
            $("#to").hide();
            $("#frmdt").show();
            $("#todt").show();
        }
    })
</script>