@using SmartAdminMvc.Models;
@*@model TBL_GSTR_ACTION_TYPE*@
@using System.Dynamic
@model List<System.Collections.IDictionary>
@{
    WebGrid grid = null;
    var result = new List<dynamic>();
    if (@Model != null)
    {
        foreach (var emprow in Model)
        {
            var row = (IDictionary<string, object>)new ExpandoObject();
            Dictionary<string, object> eachEmpRow = (Dictionary<string, object>)emprow;

            foreach (KeyValuePair<string, object> keyValuePair in eachEmpRow)
            {
                row.Add(keyValuePair);
            }
            result.Add(row);
        }
        grid = new WebGrid(result);
    }
}
<style>

    .btnstyle {
        font-weight: bold;
        color: white;
        border-radius: 8px;
    }

    table.gridtable th {
        text-align: center;
        font-weight: bold;
        font-size: 14px;
        color: #3276b1;
    }

    table.gridtable td {
        text-align: center;
    }
</style>

<!-- MAIN CONTENT -->
<div id="content" style="overflow:hidden">

    <!-- row -->
    <div class="row">

        <!-- col -->
        <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
            <h1 class="page-title txt-color-blueDark">

                <!-- PAGE HEADER -->
                <i class="fa-fw fa fa-home"></i>
                GSTR3B
                <span>
                    >&nbsp;
                    CSV Uploads
                </span>
            </h1>
        </div>
        <!-- end col -->
        <!-- right side of the page with the sparkline graphs -->
        <!-- col -->
        <!-- end col -->

    </div>
    <!-- end row -->
    <!--
                The ID "widget-grid" will start to initialize all widgets below
                You do not need to use widgets if you dont want to. Simply remove
                the <section></section> and you can use wells or panels instead
                -->
    <!-- widget grid -->
    <section id="widget-grid" class="">
        <!-- row -->
        <div class="row">

            <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                @using (Ajax.BeginForm("Index", "GSTRUpload", new AjaxOptions { HttpMethod = "POST" }, new { enctype = "multipart/form-data", @id = "GSTRUploadForm", @name = "GSTRUploadForm" }))
                {
                    <!-- Widget ID (each widget will need unique ID)-->
                    <div class="jarviswidget jarviswidget-color-teal" id="wid-id-0" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

                        <header>
                            <span class="widget-icon"><i class="fa fa-edit"></i></span>
                            <h2>GSTR CSV Uploads</h2>
                        </header>

                        <!-- widget div-->
                        <div>

                            <!-- widget edit box -->
                            <div class="jarviswidget-editbox">
                                <!-- This area used as dropdown edit box -->

                            </div>
                            <!-- end widget edit box -->
                            <!-- widget content -->
                            <div class="widget-body no-padding">

                                <div id="comment-form" class="smart-form">

                                    <fieldset>

                                        @*@Html.AntiForgeryToken()*@
                                        <div class="row">
                                            <section class="col col-4">
                                                <label class="label">GSTR</label>
                                                <div class="col-xs-9 col-lg-9 selectContainer">
                                                    @Html.DropDownList("ddlGSTR", ViewBag.GSTRList as SelectList, "Select GSTR", new { @class = "form-control", onchange = "submit();" })
                                                </div>
                                            </section>
                                            <section class="col col-4">
                                                <label class="label">GSTR</label>
                                                <div class="form-group">
                                                    <input type="file" id="FileUpload" name="FileUpload" multiple="multiple" />
                                                </div>
                                            </section>

                                        </div>

                                    </fieldset>

                                    <footer>
                                        <div>
                                            @if (TempData["TotalRecordsCount"] != null)
                                            {
                                                <section class="col col-4" style="font-weight:bold">Total Records count: @TempData["TotalRecordsCount"].ToString()</section>
                                                <section class="col col-4" style="font-weight:bold">Total Processed Records count: @TempData["ProcessedRecordsCount"].ToString()</section>
                                                <section class="col col-4" style="font-weight:bold">@Html.ActionLink("Total Error Records count: " + @TempData["ErrorRecordsCount"].ToString(), "Download")</section>
                                                @*<a href="@Url.Action("Index","GSTRUpload")" id="DownloadExcel" class=""><strong>@TempData["ErrorRecordsCount"].ToString() </strong></a>*@

                                                @*@Html.ActionLink("Download File", "Download")*@
                                            }
                                        </div>
                                        <button type="submit" name="command" value="Import" class="btn btn-primary" style="border-radius:13px;font-weight:600">
                                            Import Data
                                        </button>


                                    </footer>

                                </div>

                            </div>
                            <!-- end widget content -->

                        </div>
                        <!-- end widget div -->

                    </div>
                                <!-- end widget -->
                    <!-- Widget ID (each widget will need unique ID)-->

                }
            </article>
            <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                <!-- Widget ID (each widget will need unique ID)-->
                <div class="jarviswidget jarviswidget-color-greenDark" id="wid-id-1" data-widget-editbutton="false" data-widget-custombutton="false" data-widget-deletebutton="false">

                    <header>
                        <span class="widget-icon"><i class="fa fa-edit"></i></span>
                        <h2>GSTR-1 Save</h2>
                    </header>

                    <!-- widget div-->
                    <div>

                        <!-- widget edit box -->
                        <div class="jarviswidget-editbox">
                            <!-- This area used as dropdown edit box -->

                        </div>
                        <!-- end widget edit box -->
                        <!-- widget content -->
                        <div class="widget-body no-padding">

                            <div id="comment-form" class="smart-form">

                                <fieldset>

                                    @*@Html.AntiForgeryToken()*@
                                    <div class="row">
                                        <section class="col col-3">
                                            <label class="label">Period</label>
                                            <div class="col-xs-9 col-lg-9 selectContainer">
                                                <label class="input">
                                                    <i class="icon-append fa fa-calendar"></i>
                                                    <input type="text" name="period" placeholder="" class="datepicker" data-dateformat='mmyy' value="@ViewBag.Period" onchange="submit();">
                                                </label>
                                                @*@Html.DropDownList("ddlActionType", ViewBag.ActionList as SelectList, "Select", new { @class = "form-control" })*@
                                            </div>
                                        </section>
                                        <section class="col col-3">
                                            <label class="label">GSTIN</label>
                                            <div class="col-xs-9 col-lg-9 selectContainer">
                                                @Html.DropDownList("ddlGSTINNo", ViewBag.GSTINNoList as SelectList, "Select", new { @class = "form-control", autopostback = "true", onchange = "submit();" })
                                            </div>
                                        </section>

                                    </div>

                                </fieldset>

                                <footer>
                                    <button type="submit" name="GSTR1Save" value="GSTR 1 Save" class="btn btn-primary pull-left" style="border-radius:13px;font-weight:600">
                                        GSTR 1 Save
                                    </button>
                                    @*<a href="#" class="btn btn-primary pull-right"><strong><i class="fa fa-arrow-circle-left"></i> Back </strong></a>*@
                                </footer>

                                <div class="message">
                                    <i class="fa fa-check fa-lg"></i>
                                    <p>
                                        Your comment was successfully added!
                                    </p>
                                </div>
                            </div>

                        </div>
                        <!-- end widget content -->

                    </div>
                    <!-- end widget div -->

                </div>
                <!-- end widget -->
                <!-- Widget ID (each widget will need unique ID)-->
            </article>

                    @using (Ajax.BeginForm("Index", "GSTRUpload", new AjaxOptions { HttpMethod = "POST" }, new { enctype = "multipart/form-data", @id = "GSTRUploadForm", @name = "GSTRUploadForm" }))
            {
                        <div class="row">
                            <div class="col-xs-6 col-sm-4">
                                <div class="panel panel-default" style="background-color:white;">
                                    <a href="~/GSTR3B/sup_det">
                                        <div class="panel-body h4" style="min-height:70px !important;background:#2D4075;color:white;font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">3.1 Tax on outward and reverse charge Inward supplies</div>
                                        @*<div style="background-color:#191970;color:white">3.1 Tax on outward and reverse charge Inward supplies</div>*@
                                        <div style="min-height:120px;">
                                            <br />
                                            <table style="width:100%">
                                                <tr>
                                                    <td style="width:50%"><span style="padding:15px;"> Integrated Tax</span> </td>
                                                    <td style="width:50%"><span>Central Tax</span></td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">34</span></td>
                                                    <td>45</td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">State/UT Tax</span></td>
                                                    <td>Cess</td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">45</span></td>
                                                    <td>45</td>
                                                </tr>
                                            </table>
                                        </div>
                                    </a>
                                </div>


                            </div>

                            <div class="col-xs-6 col-sm-4">
                                <div class="panel panel-default" style="background-color:white;">
                                    <a href="~/GSTR3B/inter_sup">
                                        <div class="panel-body h4" style="min-height:70px !important;background:#2D4075;color:white;font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">3.2 Inter-state supplies</div>
                                        @*<div style="background-color:blue;color:white">3.2 Inter-state supplies</div>*@
                                        <div style="min-height:120px;">
                                            <br />
                                            <table style="width:100%">
                                                <tr>
                                                    <td style="width:50%"><span style="padding:15px;">Taxable Value</span> </td>
                                                    <td style="width:50%">Integrated Tax</td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">34</span></td>
                                                    <td>34</td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </a>
                                </div>


                            </div>
                            <div class="col-xs-6 col-sm-4">
                                <div class="panel panel-default" style="background-color:white;">
                                    <a href="~/GSTR3B/itc_elg">
                                        <div class="panel-body h4" style="min-height:70px !important;background:#2D4075;color:white;font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">4 Eligible ITC</div>
                                        <div style="min-height:120px;">
                                            <br />
                                            <table style="width:100%">
                                                <tr>
                                                    <td style="width:50%"><span style="padding:15px;">Integrated Tax</span></td>
                                                    <td style="width:50%">Central Tax</td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">44</span></td>
                                                    <td>67</td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">State/UT Tax</span></td>
                                                    <td>Cess</td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">55</span></td>
                                                    <td>57</td>
                                                </tr>
                                            </table>
                                        </div>
                                    </a>
                                </div>

                            </div>
                        </div>


                        <br />

                        <div class="row">

                            <div class="col-xs-6 col-sm-4">
                                <div class="panel panel-default" style="background-color:white;">
                                    <a href="~/GSTR3B/inward_sup">
                                        <div class="panel-body h4" style="min-height:70px !important;background:#2D4075;color:white;font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">5 Exempt, nil and Non GST Inward supplies</div>
                                        <div style="min-height:120px;">
                                            <br />
                                            <table style="width:100%">
                                                <tr>
                                                    <td style="width:50%"><span style="padding:15px;">Inter-state supplies</span></td>
                                                    <td style="width:50%">Intra-state supplies</td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">775</span></td>
                                                    <td>777</td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </a>
                                </div>


                            </div>

                            <div class="col-xs-6 col-sm-4">
                                <div class="panel panel-default" style="background-color:white;">
                                    <a href="~/GSTR3B/intr_ltfee">
                                        <div class="panel-body h4" style="min-height:70px !important;background:#2D4075;color:white;font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif">5.1 Interest and Late fee</div>
                                        <div style="min-height:120px;">
                                            <table style="width:100%">

                                                <tr>
                                                    <td style="width:50%"><span style="padding:15px;">Integrated Tax</span></td>
                                                    <td style="width:50%">Central Tax</td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">45</span></td>
                                                    <td>64</td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">State/UT Tax</span></td>
                                                    <td>Cess</td>
                                                </tr>
                                                <tr>
                                                    <td><span style="padding:15px;">46</span></td>
                                                    <td>64</td>
                                                </tr>
                                            </table>
                                        </div>
                                    </a>
                                </div>


                            </div>
                        </div>
                    }




            


                <!-- end row -->
                <!-- row -->
                <!-- END MAIN CONTENT -->
</div>
</section>
    </div>

        @if (TempData["UploadMessage"] != null)
        {
            <script type="text/javascript">
            alert(@Html.Raw(Json.Encode(TempData["UploadMessage"])));
            TempData["UploadMessage"] = null;
            </script>
        }


        @section pagespecific {
            <script type="text/javascript">

            $(document).ready(function () {

                var $checkoutForm = $('#GSTRUploadForm').validate({
                    // Rules for form validation
                    rules: {
                        ddlGSTR: {
                            required: true
                        }
                        //,
                        //FileUpload: {
                        //    required: true
                        //}
                    },

                    // Messages for form validation
                    messages: {
                        ddlGSTR: {
                            required: 'Please select GSTR'
                        }
                        //,
                        //FileUpload: {
                        //    required: 'Please select Files'
                        //}
                    },

                    // Do not change code below
                    errorPlacement: function (error, element) {
                        error.insertAfter(element.parent());
                    }
                });

            })

            //$(document).ready(function () {
            //    $("#ddlGSTR").change(function () {
            //        $(this).find("option:selected").each(function () {
            //            var optionValue = $(this).attr("value");
            //            if (optionValue == "1") {
            //                $("#tabs").show();
            //                $("#tab").hide();
            //            } else if (optionValue == "2") {
            //                $("#tabs").hide();
            //                $("#tab").show();
            //            }
            //            else {
            //                $("#tabs").hide();
            //                $("#tab").hide();
            //            }
            //        });
            //    }).change();
            //});



            // DO NOT REMOVE : GLOBAL FUNCTIONS!

            $(document).ready(function () {


                $('#tabs').tabs();
                $('#tab').tabs();
                /*
                 *  Simple tabs adding and removing
                 */



            })




            </script>
        }

